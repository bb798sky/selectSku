{"version":3,"sources":["webpack:///E:/xcx/selectSku/main.js","webpack:///E:/xcx/selectSku/pages/index/index.vue?0df1","webpack:///E:/xcx/selectSku/pages/index/index.vue?a8b2","webpack:///E:/xcx/selectSku/pages/index/index.vue?6d33","webpack:///E:/xcx/selectSku/pages/index/index.vue?4fd3","webpack:///E:/xcx/selectSku/pages/index/index.vue","webpack:///E:/xcx/selectSku/pages/index/index.vue?0213","webpack:///E:/xcx/selectSku/pages/index/index.vue?924e"],"names":["Page","App","data","selectArr","shopItemInfo","subIndex","skuShow","guigedata","onLoad","uni","request","url","header","success","res","guige_data","setData","fail","err","console","log","methods","sku","i","len","length","attr_ids","replace","checkItem","specificationBtn","item","n","event","index","option","apec_attr","result","last","leng","attrs","k","id","isShow","isMay","$forceUpdate","stock"],"mappings":";;;;;;;;;;AAAA;AACA;AACI,8I;AACAA,IAAI,CAAC,+BAAYC,cAAZ,CAAD,CAAJ,C;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgG;AACvC;AACL;AACsC;;;AAG1F;AACyK;AACzK,gBAAgB,oLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA+zB,CAAgB,20BAAG,EAAC,C;;;;;;;;;;;;ACAn1B;AAAA;AAAA;AAAA;AAAknC,CAAgB,kmCAAG,EAAC,C;;;;;;;;;;;;ACAtoC;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4Be;AACdC,MADc,kBACP;AACN,WAAO;AACN;AACAC,eAAS,EAAE,EAFL,EAES;AACfC,kBAAY,EAAE,EAHR,EAGY;AAClBC,cAAQ,EAAE,EAJJ,EAIQ;AACd;AACAC,aAAO,EAAE,IANH;AAONC,eAAS,EAAE,EAPL,EAAP;;AASA,GAXa;;AAadC,QAbc,oBAaL;AACRC,OAAG,CAACC,OAAJ,CAAY;AACXC,SAAG,EAAE,0DADM;AAEXT,UAAI,EAAE,EAFK;AAGXU,YAAM,EAAE,EAHG;AAIXC,aAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,aAAI,CAACP,SAAL,GAAiBO,GAAG,CAACZ,IAAJ,CAASa,UAA1B;AACA,aAAI,CAACC,OAAL;AACA,OAPU;AAQXC,UAAI,EAAE,cAACC,GAAD,EAAS;AACdC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,OAVU,EAAZ;;AAYA,GA1Ba;;AA4BdG,SAAO,EAAE;AACRL,WADQ,qBACE;AACT,UAAIM,GAAG,GAAG,KAAKf,SAAL,CAAee,GAAzB;AACA,WAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGF,GAAG,CAACG,MAA1B,EAAkCF,CAAC,GAAGC,GAAtC,EAA2CD,CAAC,EAA5C,EAAgD;AAC/C,aAAKnB,YAAL,CAAkBkB,GAAG,CAACC,CAAD,CAAH,CAAOG,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,EAA+B,GAA/B,CAAlB,IAAyDL,GAAG,CAACC,CAAD,CAA5D;AACC;;;AAGD;AACD,WAAKK,SAAL;AACA,KAVO;;AAYR;AACAC,oBAbQ,4BAaSC,IAbT,EAaeC,CAbf,EAakBC,KAblB,EAayBC,KAbzB,EAagC;AACvC;;;;;AAKA,UAAI,KAAK9B,SAAL,CAAe4B,CAAf,KAAqBD,IAAzB,EAA+B;AAC9B;;;;AAIA,aAAK3B,SAAL,CAAe4B,CAAf,IAAoBD,IAApB;AACA,aAAKzB,QAAL,CAAc0B,CAAd,IAAmBE,KAAnB;AACA,OAPD,MAOO;AACN;;;;AAIA,aAAK9B,SAAL,CAAe4B,CAAf,IAAoB,EAApB;AACA,aAAK1B,QAAL,CAAc0B,CAAd,IAAmB,CAAC,CAApB,CANM,CAMiB;AACvB;AACD,WAAKH,SAAL;AACA,KAnCO;AAoCRA,aApCQ,uBAoCI;AACX,UAAIM,MAAM,GAAG,KAAK3B,SAAL,CAAe4B,SAA5B;AACA,UAAIC,MAAM,GAAG,EAAb,CAFW,CAEM;AACjB,UAAIZ,GAAG,GAAGU,MAAM,CAACT,MAAjB;AACA,WAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,GAApB,EAAyBD,CAAC,EAA1B,EAA8B;AAC7Ba,cAAM,CAACb,CAAD,CAAN,GAAY,KAAKpB,SAAL,CAAeoB,CAAf,IAAoB,KAAKpB,SAAL,CAAeoB,CAAf,CAApB,GAAwC,EAApD;AACA;AACD,WAAK,IAAIA,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGC,GAApB,EAAyBD,EAAC,EAA1B,EAA8B;AAC7B,YAAIc,IAAI,GAAGD,MAAM,CAACb,EAAD,CAAjB,CAD6B,CACP;AACtB,YAAIe,IAAI,GAAGJ,MAAM,CAACX,EAAD,CAAN,CAAUgB,KAAV,CAAgBd,MAA3B;AACA,aAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAApB,EAA0BE,CAAC,EAA3B,EAA+B;AAC9BJ,gBAAM,CAACb,EAAD,CAAN,GAAYW,MAAM,CAACX,EAAD,CAAN,CAAUgB,KAAV,CAAgBC,CAAhB,EAAmBC,EAA/B,CAD8B,CACK;AACnC;;;;;AAKAP,gBAAM,CAACX,EAAD,CAAN,CAAUgB,KAAV,CAAgBC,CAAhB,EAAmBE,MAAnB,GAA4B,KAAKC,KAAL,CAAWP,MAAX,CAA5B;AACA;;;;;;;AAOA;AACA;AACDA,cAAM,CAACb,EAAD,CAAN,GAAYc,IAAZ,CApB6B,CAoBX;AAClB;AACD,WAAKO,YAAL,GA7BW,CA6BU;AACrB,KAlEO;AAmERD,SAnEQ,iBAmEFP,MAnEE,EAmEM;AACbjB,aAAO,CAACC,GAAR,CAAYgB,MAAZ;AACA,UAAIZ,GAAG,GAAGY,MAAM,CAACX,MAAjB;AACA,WAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,GAApB,EAAyBD,CAAC,EAA1B,EAA8B;AAC7B,YAAIa,MAAM,CAACb,CAAD,CAAN,IAAa,EAAjB,EAAqB;AACpB,iBAAO,IAAP,CADoB,CACP;AACb;AACD;AACD,aAAO,KAAKnB,YAAL,CAAkBgC,MAAlB,EAA0BS,KAA1B,IAAmC,CAAnC,GAAuC,KAAvC,GAA+C,IAAtD,CARa,CAQ+C;AAC5D,KA5EO,EA5BK,E;;;;;;;;;;;;AC5Bf,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA,+BAA+B,+BAA+B;AAC9D,0BAA0B,mCAAmC;AAC7D,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA,mBAAmB,sCAAsC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/index/index.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=faec7588&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=faec7588&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"faec7588\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\developmenter\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('faec7588', component.options)\n    } else {\n      api.reload('faec7588', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=faec7588&scoped=true&\", function () {\n      api.rerender('faec7588', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"xcx/selectSku/pages/index/index.vue\"\nexport default component.exports","import mod from \"-!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=faec7588&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=faec7588&lang=scss&scoped=true&\"","export * from \"-!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../developmenter/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=faec7588&scoped=true&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t// 01.规格选择\n\t\t\tselectArr: [], //存放被选中的值\n\t\t\tshopItemInfo: {}, //存放要和选中的值进行匹配的数据\n\t\t\tsubIndex: [], //是否选中 因为不确定是多规格还是但规格，所以这里定义数组来判断\n\t\t\t// 02.规格显示\n\t\t\tskuShow: null,\n\t\t\tguigedata: {},\n\t\t};\n\t},\n\n\tonLoad() {\n\t\tuni.request({\n\t\t\turl: 'https://www.easy-mock.com/mock/5cdd6b00fd487e51be5eb0a0/',\n\t\t\tdata: {},\n\t\t\theader: {},\n\t\t\tsuccess: (res) => {\n\t\t\t\tthis.guigedata = res.data.guige_data\n\t\t\t\tthis.setData()\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t}\n\t\t});\n\t},\n\n\tmethods: {\n\t\tsetData() {\n\t\t\tlet sku = this.guigedata.sku;\n\t\t\tfor (let i = 0, len = sku.length; i < len; i++) {\n\t\t\t\tthis.shopItemInfo[sku[i].attr_ids.replace(/\\//g, \",\")] = sku[i];\n\t\t\t\t /* \n\t\t\t\t * 修改数据结构格式，用规格组成的id用逗号分割作属性名\n\t\t\t\t *  */\n\t\t\t}\n\t\t\tthis.checkItem();\n\t\t},\n\n\t\t// 01.规格选择\n\t\tspecificationBtn(item, n, event, index) {\n\t\t\t/* \n\t\t\t * n是外层循环，index是内层循环\n\t\t\t * item是数据项\n\t\t\t * event事件对象\n\t\t\t *  */\n\t\t\tif (this.selectArr[n] != item) {\n\t\t\t\t/* \n\t\t\t\t* n是外层索引，也就是颜色、尺寸这样的规格类别\n\t\t\t\t* (this.selectArr[n] != item) 也就是这一类规格没有再点击一样的\n\t\t\t\t*  */\n\t\t\t\tthis.selectArr[n] = item;\n\t\t\t\tthis.subIndex[n] = index;\n\t\t\t} else {\n\t\t\t\t/* \n\t\t\t\t* 如果是点击了这一类里刚点击了的规格，则去除选中态\n\t\t\t\t* 也就是点击了选中再点击去除选中\n\t\t\t\t* */\n\t\t\t\tthis.selectArr[n] = \"\";\n\t\t\t\tthis.subIndex[n] = -1; //去掉选中的颜色\n\t\t\t}\n\t\t\tthis.checkItem();\n\t\t},\n\t\tcheckItem() {\n\t\t\tlet option = this.guigedata.apec_attr;\n\t\t\tlet result = []; //定义数组存储已经被选中的值\n\t\t\tlet len = option.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tresult[i] = this.selectArr[i] ? this.selectArr[i] : \"\";\n\t\t\t}\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tlet last = result[i]; //把选中的值存放到字符串last去\n\t\t\t\tlet leng = option[i].attrs.length;\n\t\t\t\tfor (let k = 0; k < leng; k++) {\n\t\t\t\t\tresult[i] = option[i].attrs[k].id; //赋值，存在直接覆盖，不存在往里面添加id值\n\t\t\t\t\t/* \n\t\t\t\t\t* 循环判断每一个规格项\n\t\t\t\t\t* 在数据里面添加字段isShow来判断是否可以选择\n\t\t\t\t\t* \n\t\t\t\t\t*  */\n\t\t\t\t\toption[i].attrs[k].isShow = this.isMay(result);\n\t\t\t\t\t/* \n\t\t\t\t\t*  因为this.guigedata.apec_attr是一个对象，\n\t\t\t\t\t* option是指向这个对象的引用\n\t\t\t\t\t* 对option数据改动this.guigedata.apec_attr也会跟着改动\n\t\t\t\t\t* 用this.guigedata.apec_attr来渲染的oItem项数据也跟着变动\n\t\t\t\t\t* \n\t\t\t\t\t*  */\n\t\t\t\t\t// console.log(this.guigedata.apec_attr[i].attrs[k].isShow,'===',option[i].attrs[k].isShow)\n\t\t\t\t}\n\t\t\t\tresult[i] = last; //还原，目的是记录点下去那个值，避免下一次执行循环时避免被覆盖\n\t\t\t}\n\t\t\tthis.$forceUpdate(); //重绘\n\t\t},\n\t\tisMay(result) {\n\t\t\tconsole.log(result)\n\t\t\tlet len = result.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tif (result[i] == \"\") {\n\t\t\t\t\treturn true; //如果数组里有为空的值，那直接返回true\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.shopItemInfo[result].stock == 0 ? false : true; //匹配选中的数据的库存，若不为空返回true反之返回false\n\t\t},\n\t},\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"container\" }, [\n    _vm.guigedata\n      ? _c(\n          \"view\",\n          { staticClass: \"skuBox\" },\n          _vm._l(_vm.guigedata.apec_attr, function(specs, n) {\n            return _c(\"view\", { key: n, staticClass: \"color\" }, [\n              _c(\"view\", { staticClass: \"type_contnent_box\" }, [\n                _c(\"view\", { staticClass: \"title\" }, [\n                  _vm._v(_vm._s(specs.attr_name))\n                ]),\n                _c(\n                  \"view\",\n                  { staticClass: \"color_item_container\" },\n                  _vm._l(specs.attrs, function(oItem, index) {\n                    return _c(\n                      \"view\",\n                      {\n                        key: index,\n                        staticClass: \"color_item\",\n                        class: [\n                          oItem.isShow ? \"\" : \"disable\",\n                          _vm.subIndex[n] == index ? \"active\" : \"\"\n                        ],\n                        attrs: {\n                          \"data-id\": index + \"\" + index,\n                          \"data-sku\": oItem.attr_name,\n                          \"data-skucode\": oItem.id,\n                          eventid: \"4fb339ea-0-\" + n + \"-\" + index\n                        },\n                        on: {\n                          click: function($event) {\n                            _vm.specificationBtn(oItem.id, n, $event, index)\n                          }\n                        }\n                      },\n                      [_vm._v(_vm._s(oItem.attr_name))]\n                    )\n                  })\n                )\n              ])\n            ])\n          })\n        )\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}